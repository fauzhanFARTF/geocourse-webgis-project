{% extends 'context/base.html' %} 

{% block title %}
    Home
{% endblock %} 
{% block head %}
    <!-- BOOTSTRAP CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- LEAFLET -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        #peta {
            height :500px;
        }
    </style>
{% endblock %} 
{% block body %}
    <h1>Testing Inheritance HTML</h1>
    <div id="peta">Tampilan Peta</div>
    <script>
        const peta = L.map('peta').setView([11.608274122747922,165.37697796900906], 11);
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
          maxZoom: 19,
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
      }).addTo(peta);
      fetch('/api/custom-map/')
        //.then(x=> console.log(x.text))
        .then(response => response.json())
        .then(function(json){
            console.log(json)
            L.geoJSON(json).addTo(peta)
        })
        // .then(json => console.log(json))
    </script>
{% endblock %}
  